(this.webpackJsonpwscal=this.webpackJsonpwscal||[]).push([[0],{47:function(e,t,n){},48:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a,s=n(1),r=n.n(s),i=n(12),c=n.n(i),l=(n(47),n(6)),o=n(20),d=n(21),u=n(9),h=n(41),j=n(40),f=(n(48),n(19)),p=n(17),b=n(26),v=n(37),O=n(16),g=n(34),x=n(39),m=n(42),y=n(14),k=n(38),F=n(10),w=n(31),C=n.p+"static/media/morphs.17a65098.tsv",R=n.p+"static/media/esv.fe2ed14b.tsv",S=n.p+"static/media/na28.19940234.tsv",A="Case",E="Gender",M="Number",T="Mood",P="Part",I="adjective",L="noun",z="pronoun",B="verb",D="Person",G="Tense",N="Voice",J="Chapter",V="Gloss",q="Lemma",H="Result",X="Esv",K="Na28",Q="Reference",U=(a={},Object(l.a)(a,P,[I,L,B,z]),Object(l.a)(a,E,["feminine","masculine","neuter"]),Object(l.a)(a,A,["nominative","genitive","dative","accusative","vocative"]),Object(l.a)(a,G,["present","imperfect","future","aorist"]),Object(l.a)(a,N,["active","middle","passive"]),Object(l.a)(a,M,["singular","plural"]),a),W=n(49),Y=function(){function e(){Object(o.a)(this,e)}return Object(d.a)(e,null,[{key:"loadData",value:function(t){0===e.morphs.length&&e.loadFile(C,(function(n){var a=[];W.parse(n.trimEnd(),{delimiter:"\t",header:!0}).data.forEach((function(e){return a.push(e)})),e.morphs=a,e.morphs.length>0&&Object.keys(e.esv).length>0&&Object.keys(e.na28).length>0&&t(e.getRecords({}))})),0===Object.keys(e.esv).length&&e.loadFile(R,(function(n){W.parse(n.trimEnd(),{delimiter:"\t",header:!0}).data.forEach((function(t){return e.esv[t.Abbr]=t.Text})),e.morphs.length>0&&Object.keys(e.esv).length>0&&Object.keys(e.na28).length>0&&t(e.getRecords({}))})),0===Object.keys(e.na28).length&&e.loadFile(S,(function(n){W.parse(n.trimEnd(),{delimiter:"\t",header:!0}).data.forEach((function(t){return e.na28[t.Abbr]=t.Text})),e.morphs.length>0&&Object.keys(e.esv).length>0&&Object.keys(e.na28).length>0&&t(e.getRecords({}))}))}},{key:"loadFile",value:function(e,t){if(null!=localStorage.getItem(e))t(localStorage.getItem(e));else{var n=new XMLHttpRequest;n.addEventListener("load",(function(a){localStorage.setItem(e,n.responseText),t(n.responseText)})),n.open("GET",e),n.send()}}},{key:"getRecords",value:function(t){return e.morphs.filter((function(e){return Object.keys(t).filter((function(e){return 0!==t[e].length})).every((function(n){return"-"===e[n]||t[n].includes(e[n])}))})).filter((function(e){return"-"!==e.Chapter})).map((function(t){var n,a=t.Reference.split(","),s=a[Math.floor(Math.random()*a.length)];return Object.assign({},t,(n={},Object(l.a)(n,Q,s),Object(l.a)(n,X,e.esv[s]),Object(l.a)(n,K,e.na28[s]),n))}))}},{key:"getFlashcards",value:function(t,n){return Object.values(e.getRecords(t).map((function(e){var t;switch(e.Part){case"noun":t=[H,q,E,A,M,V,X];break;case"verb":t=[H,q,G,N,T,D,M,V,X];break;case"adjective":t=[H,q,E,A,M,V,X];break;case"conjunction":case"preposition, adverb":case"preposition":t=[H,q,V,X];break;case"pronoun":case"pronoun, adjective":case"adjective, pronoun":t=[H,q,E,A,D,M,V,X];break;default:t=[H]}return[e,t.filter((function(e){return n.includes(e)}))]})).reduce((function(e,t){var n=t[1].filter((function(e){return e!==X})).map((function(e){return t[0][e]})).join();return e[n]=e[n]||t,e}),{})).map((function(e){var t=e[0],n=e[1];return[t.Result,n.map((function(e){return e===V?'"'+t.Gloss+'"':e===X?"<> "+t.Reference+" "+t.Esv:t[e]})).join(" ")]}))}}]),e}();Y.morphs=[],Y.esv={},Y.na28={};var Z=Y,$=(n(50),n(33)),_=n(0),ee=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={records:[],display:[],filters:{},fields:[H,q,E,A,G,N,T,D,M,V,P,J],showOffcanvas:!1,limit:10,chapters:"",flashcardFields:[H,q,E,A,M,V,G,N,T,D,X],flashcards:[],flashcardsPreview:[]},a.toggleFilter=a.toggleFilter.bind(Object(u.a)(a)),a.updateFields=a.updateFields.bind(Object(u.a)(a)),a.updateFlashcardFields=a.updateFlashcardFields.bind(Object(u.a)(a)),a.updateRecords=a.updateRecords.bind(Object(u.a)(a)),a.updateChapter=a.updateChapter.bind(Object(u.a)(a)),a.setOffcanvas=a.setOffcanvas.bind(Object(u.a)(a)),a.downloadRecords=a.downloadRecords.bind(Object(u.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;Z.loadData((function(t){return e.setState({records:t})}))}},{key:"toggleFilter",value:function(e,t){this.setState((function(n,a){var s=n.filters[e]||[],r=s.slice();return s.includes(t)?r.splice(r.indexOf(t),1):r.push(t),{filters:Object.assign({},n.filters,Object(l.a)({},e,r))}}))}},{key:"updateChapter",value:function(e){this.setState({chapters:e.target.value})}},{key:"updateFields",value:function(e){this.setState((function(t,n){var a=(t.fields||[]).slice();return a.includes(e)?a.splice(a.indexOf(e),1):a.push(e),{fields:a}}))}},{key:"updateFlashcardFields",value:function(e){this.setState((function(t,n){var a=(t.flashcardFields||[]).slice();return a.includes(e)?a.splice(a.indexOf(e),1):a.push(e),{flashcardFields:a}}))}},{key:"updateRecords",value:function(){var e=this.state.filters,t=[];this.state.chapters.replaceAll("ch","").split(",").forEach((function(e){if(e.includes("-"))for(var n=e.split("-"),a=parseInt(n[0]);a<parseInt(n[1])+1;a++)t.push(a.toString());else e&&t.push(e)})),e.Chapter=t;var n=Z.getRecords(e),a=Z.getFlashcards(e,this.state.flashcardFields),s=Math.floor(Math.random()*n.length-this.state.limit),r=Math.floor(Math.random()*(a.length-this.state.limit));console.log(a.length),console.log(r),console.log(a.slice(r,r+this.state.limit)),this.setState({records:n,display:n.slice(s,s+this.state.limit),flashcards:a,flashcardsPreview:a.slice(r,r+this.state.limit)})}},{key:"downloadRecords",value:function(){var e=this.state.flashcards.map((function(e){return e[0]+"\t"+e[1]})).join("\n"),t=new Blob([e],{type:"text/plain;charset=utf-8"});Object($.saveAs)(t,"hello.txt")}},{key:"setOffcanvas",value:function(e){this.setState({showOffcanvas:e})}},{key:"render",value:function(){var e=this;return Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)("header",{className:"App-header",children:Object(_.jsx)("p",{children:'"SM Baugh A Greek Primer"'})}),Object(_.jsxs)(g.a,{children:[Object(_.jsxs)(f.a,{variant:"success",style:{textAlign:"left"},children:[Object(_.jsxs)(y.a,{children:[Object(_.jsx)("h5",{children:"(1) I want to study..."}),Object(_.jsxs)(m.a,{size:"sm",children:[Object(_.jsx)(x.a.Control,{"aria-label":"chapter restrictions (e.g. 2 or 2,3 or 2-4)","aria-describedby":"basic-addon1",placeholder:"e.g. 'ch2,3,4' or '2-10'. Leave blank for any chapter.",onChange:this.updateChapter}),Object(_.jsxs)(w.a,{type:"checkbox",size:"sm",children:[Object(_.jsx)(F.a,{variant:"outline-secondary",value:"nouns",id:"nouns-filter",onClick:function(t){return e.toggleFilter(P,L,t)},children:"nouns"}),Object(_.jsx)(F.a,{variant:"outline-secondary",value:"verbs",id:"verbs-filter",onClick:function(t){return e.toggleFilter(P,B,t)},children:"verbs"}),Object(_.jsx)(F.a,{variant:"outline-secondary",value:"adjectives",id:"adjectives-filter",onClick:function(t){return e.toggleFilter(P,I,t)},children:"adjectives"}),Object(_.jsx)(F.a,{variant:"outline-secondary",value:"prepositions",id:"prepositions-filter",onClick:function(t){return e.toggleFilter(P,"preposition",t)},children:"preps"}),Object(_.jsx)(F.a,{variant:"outline-secondary",value:"pronouns",id:"pronouns-filter",onClick:function(t){return e.toggleFilter(P,z,t)},children:"pronouns"})]})]})]}),Object(_.jsxs)(y.a,{style:{marginTop:"1rem"},children:[Object(_.jsx)("h5",{children:"(1b) ...with filters..."}),Object(_.jsx)(v.a,{style:{justifyContent:"space-between"},children:Object.keys(U).filter((function(e){return e!==P})).map((function(t){return Object(_.jsx)(w.a,{id:t,type:"checkbox",size:"sm",children:U[t].map((function(n){return Object(_.jsx)(F.a,{id:n,value:n,variant:"outline-success",onClick:function(a){return e.toggleFilter(t,n,a)},children:n},n)}))},t)}))})]})]}),Object(_.jsxs)(f.a,{variant:"danger",style:{textAlign:"left"},children:[Object(_.jsx)("h5",{children:"(3) ...adjust flashcard fields..."}),Object(_.jsx)(y.a,{children:Object(_.jsx)(b.a,{defaultValue:this.state.flashcardFields,size:"sm",children:n.flashcardFields.map((function(t){return Object(_.jsx)(p.a,{id:t,value:t,active:e.state.flashcardFields.includes(t),variant:"outline-secondary",onClick:function(n){return e.updateFlashcardFields(t,n)},children:t},t)}))})})]}),Object(_.jsxs)(f.a,{variant:"info",style:{textAlign:"left"},children:[Object(_.jsxs)(y.a,{children:[Object(_.jsx)(O.a,{children:Object(_.jsx)("h5",{children:"(4) ...preview!"})}),Object(_.jsx)(O.a,{style:{textAlign:"right"},children:Object(_.jsx)(p.a,{onClick:this.updateRecords,variant:"primary",children:"Refresh!"})})]}),Object(_.jsx)(y.a,{children:Object(_.jsxs)(k.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{style:{whiteSpace:"nowrap"},children:"Front"},"front"),Object(_.jsx)("th",{style:{whiteSpace:"nowrap"},children:"Back"},"back")]})}),Object(_.jsx)("tbody",{children:this.state.flashcardsPreview.map((function(e){return Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{style:{whiteSpace:"nowrap"},children:e[0]},"front"),Object(_.jsx)("td",{style:{whiteSpace:"nowrap"},children:e[1]},"back")]},"tr-"+e[0]+e[1])}))})]})})]}),Object(_.jsxs)(f.a,{variant:"secondary",style:{textAlign:"left"},children:[Object(_.jsx)("h5",{children:"(5) ...download!"}),Object(_.jsx)(y.a,{children:Object(_.jsx)(O.a,{children:Object(_.jsxs)(p.a,{onClick:this.downloadRecords,children:["Download Set (",this.state.flashcards.length," flashcards)"]})})})]})]})]})}}]),n}(r.a.Component);ee.fields=[H,q,E,A,G,N,T,D,M,V,P,J,"Adverb/particle Type",Q,X,K],ee.flashcardFields=[H,q,E,A,M,V,G,N,T,D,X];var te=ee,ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),r(e),i(e)}))};c.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(te,{})}),document.getElementById("root")),ne()}},[[55,1,2]]]);
//# sourceMappingURL=main.6e2ef2f2.chunk.js.map