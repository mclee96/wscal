(this.webpackJsonpwscal=this.webpackJsonpwscal||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var s,a=n(1),i=n.n(a),r=n(21),c=n.n(r),l=(n(32),n(6)),d=n(13),o=n(14),u=n(7),h=n(27),f=n(26),j=(n(33),n.p+"static/media/morphs.17a65098.tsv"),b=n.p+"static/media/esv.fe2ed14b.tsv",p=n.p+"static/media/na28.19940234.tsv",O="Case",v="Gender",m="Number",x="Mood",g="Part",y="Person",k="Tense",w="Voice",R="Chapter",F="Gloss",S="Lemma",C="Result",E="Na28",A="Reference",T=(s={},Object(l.a)(s,v,["feminine","masculine","neuter"]),Object(l.a)(s,O,["nominative","genitive","dative","accusative","vocative"]),Object(l.a)(s,g,["adjective","noun","verb","pronoun"]),Object(l.a)(s,k,["present","imperfect","future","aorist"]),Object(l.a)(s,w,["active","middle","passive"]),Object(l.a)(s,m,["singular","plural"]),s),M=n(34),D=function(){function e(){Object(d.a)(this,e)}return Object(o.a)(e,null,[{key:"loadFile",value:function(e,t){if(null!=localStorage.getItem(e))t(localStorage.getItem(e));else{var n=new XMLHttpRequest;n.addEventListener("load",(function(s){localStorage.setItem(e,n.responseText),t(n.responseText)})),n.open("GET",e),n.send()}}},{key:"loadData",value:function(t){0===e.morphs.length&&e.loadFile(j,(function(n){var s=[];M.parse(n.trimEnd(),{delimiter:"\t",header:!0}).data.forEach((function(e){return s.push(e)})),e.morphs=s,e.morphs.length>0&&Object.keys(e.esv).length>0&&Object.keys(e.na28).length>0&&t(e.getRecords({}))})),0===Object.keys(e.esv).length&&e.loadFile(b,(function(n){M.parse(n.trimEnd(),{delimiter:"\t",header:!0}).data.forEach((function(t){return e.esv[t.Abbr]=t.Text})),e.morphs.length>0&&Object.keys(e.esv).length>0&&Object.keys(e.na28).length>0&&t(e.getRecords({}))})),0===Object.keys(e.na28).length&&e.loadFile(p,(function(n){M.parse(n.trimEnd(),{delimiter:"\t",header:!0}).data.forEach((function(t){return e.na28[t.Abbr]=t.Text})),e.morphs.length>0&&Object.keys(e.esv).length>0&&Object.keys(e.na28).length>0&&t(e.getRecords({}))}))}},{key:"getRecords",value:function(t){return e.morphs.filter((function(e){return Object.keys(t).every((function(n){return Array.isArray(t[n])?0===t[n].length||t[n].includes(e[n]):e[n]===t[n]}))})).map((function(t){var n,s=t.Reference.split(","),a=s[Math.floor(Math.random()*s.length)];return Object.assign({},t,(n={},Object(l.a)(n,A,a),Object(l.a)(n,"Esv",e.esv[a]),Object(l.a)(n,E,e.na28[a]),n))}))}}]),e}();D.morphs=[],D.esv={},D.na28={};var I=D,L=n(8),N=n(15),P=n(23),B=n(12),G=n(20),z=n(10),J=n(24),V=n(17),q=n(25),H=(n(35),n(22)),X=n(0),K=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var s;return Object(d.a)(this,n),(s=t.call(this,e)).state={records:[],display:[],filters:{},fields:[C,S,v,O,k,w,x,y,m,F,g,R],showOffcanvas:!1,limit:20},console.log("constructor"),s.updateFilters=s.updateFilters.bind(Object(u.a)(s)),s.updateFields=s.updateFields.bind(Object(u.a)(s)),s.updateRecords=s.updateRecords.bind(Object(u.a)(s)),s.setOffcanvas=s.setOffcanvas.bind(Object(u.a)(s)),s.downloadRecords=s.downloadRecords.bind(Object(u.a)(s)),s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;I.loadData((function(t){return e.setState({records:t})}))}},{key:"updateFilters",value:function(e,t){this.setState((function(n,s){var a=n.filters[e]||[],i=a.slice();return a.includes(t)?i.splice(i.indexOf(t),1):i.push(t),{filters:Object.assign({},n.filters,Object(l.a)({},e,i))}}))}},{key:"updateFields",value:function(e){this.setState((function(t,n){var s=(t.fields||[]).slice();return s.includes(e)?s.splice(s.indexOf(e),1):s.push(e),{fields:s}}))}},{key:"updateRecords",value:function(){var e=I.getRecords(this.state.filters),t=Math.floor(Math.random()*e.length-this.state.limit);this.setState({records:e,display:e.slice(t,t+this.state.limit)})}},{key:"downloadRecords",value:function(){var e=this,t=n.fields.filter((function(t){return e.state.fields.includes(t)})).join("\t")+"\n"+this.state.records.map((function(t){return n.fields.filter((function(t){return e.state.fields.includes(t)})).map((function(e){return t[e]})).join("\t")})).join("\n"),s=new Blob([t],{type:"text/plain;charset=utf-8"});Object(H.saveAs)(s,"hello.txt")}},{key:"setOffcanvas",value:function(e){this.setState({showOffcanvas:e})}},{key:"render",value:function(){var e=this;return Object(X.jsxs)("div",{className:"App",children:[Object(X.jsx)("header",{className:"App-header",children:Object(X.jsx)("p",{children:'"SM Baugh A Greek Primer"'})}),Object(X.jsxs)(G.a,{children:[Object(X.jsx)(P.a,{style:{justifyContent:"space-between"},children:Object.keys(T).map((function(t){return Object(X.jsx)(q.a,{id:t,type:"checkbox",size:"sm",children:T[t].map((function(n){return Object(X.jsx)(V.a,{id:n,value:n,variant:"outline-success",onClick:function(s){return e.updateFilters(t,n,s)},children:n},n)}))},t)}))}),Object(X.jsxs)(z.a,{children:[Object(X.jsx)(B.a,{children:Object(X.jsx)(L.a,{variant:"primary",onClick:function(t){return e.setOffcanvas(!0,t)},className:"me-2",children:"Adjust filters"})}),Object(X.jsx)(B.a,{children:Object(X.jsx)(L.a,{onClick:this.updateRecords,children:"Refresh!"})}),Object(X.jsx)(B.a,{children:Object(X.jsxs)(L.a,{onClick:this.downloadRecords,children:["Download Set (",this.state.records.length," rows)"]})})]}),Object(X.jsx)(z.a,{style:{marginTop:"1rem"},children:Object(X.jsxs)(B.a,{children:[Object(X.jsx)(z.a,{children:Object(X.jsx)(G.a,{})}),Object(X.jsx)(z.a,{children:Object(X.jsx)(N.a,{defaultValue:this.state.fields,size:"sm",children:n.fields.map((function(t){return Object(X.jsx)(L.a,{id:t,value:t,active:e.state.fields.includes(t),variant:"outline-secondary",onClick:function(n){return e.updateFields(t,n)},children:t},t)}))})}),Object(X.jsx)(z.a,{children:Object(X.jsxs)(J.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(X.jsx)("thead",{children:Object(X.jsx)("tr",{children:n.fields.filter((function(t){return e.state.fields.includes(t)})).map((function(e){return Object(X.jsx)("th",{style:{whiteSpace:"nowrap"},children:e},e)}))})}),Object(X.jsx)("tbody",{children:this.state.display.map((function(t){return Object(X.jsx)("tr",{children:n.fields.filter((function(t){return e.state.fields.includes(t)})).map((function(e){return Object(X.jsx)("td",{style:{whiteSpace:"nowrap"},children:t[e]},e)}))},"tr-"+t.Result)}))})]})})]})})]})]})}}]),n}(i.a.Component);K.fields=[C,S,v,O,k,w,x,y,m,F,g,R,"Adverb/particle Type",A,"Esv",E];var Q=K,U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),i(e),r(e)}))};c.a.render(Object(X.jsx)(i.a.StrictMode,{children:Object(X.jsx)(Q,{})}),document.getElementById("root")),U()}},[[38,1,2]]]);
//# sourceMappingURL=main.95188c7b.chunk.js.map