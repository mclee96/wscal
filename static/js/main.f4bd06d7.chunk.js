(this.webpackJsonpwscal=this.webpackJsonpwscal||[]).push([[0],{47:function(e,t,n){},48:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var i,s=n(0),r=n.n(s),a=n(12),c=n.n(a),l=(n(47),n(6)),o=n(20),d=n(21),u=n(9),h=n(41),j=n(40),f=(n(48),n(17)),b=n(16),p=n(26),v=n(37),O=n(15),g=n(34),x=n(39),m=n(42),y=n(19),k=n(38),C=n(10),w=n(31),F=n.p+"static/media/morphs.17a65098.tsv",R=n.p+"static/media/esv.fe2ed14b.tsv",S=n.p+"static/media/na28.19940234.tsv",A="Case",E="Gender",M="Number",T="Mood",I="Part",L="adjective",z="noun",D="pronoun",P="verb",B="Person",G="Tense",N="Voice",J="Chapter",V="Gloss",q="Lemma",H="Result",X="Na28",K="Reference",Q=(i={},Object(l.a)(i,I,[L,z,P,D]),Object(l.a)(i,E,["feminine","masculine","neuter"]),Object(l.a)(i,A,["nominative","genitive","dative","accusative","vocative"]),Object(l.a)(i,G,["present","imperfect","future","aorist"]),Object(l.a)(i,N,["active","middle","passive"]),Object(l.a)(i,M,["singular","plural"]),i),U=n(49),W=function(){function e(){Object(o.a)(this,e)}return Object(d.a)(e,null,[{key:"loadData",value:function(t){0===e.morphs.length&&e.loadFile(F,(function(n){var i=[];U.parse(n.trimEnd(),{delimiter:"\t",header:!0}).data.forEach((function(e){return i.push(e)})),e.morphs=i,e.morphs.length>0&&Object.keys(e.esv).length>0&&Object.keys(e.na28).length>0&&t(e.getRecords({}))})),0===Object.keys(e.esv).length&&e.loadFile(R,(function(n){U.parse(n.trimEnd(),{delimiter:"\t",header:!0}).data.forEach((function(t){return e.esv[t.Abbr]=t.Text})),e.morphs.length>0&&Object.keys(e.esv).length>0&&Object.keys(e.na28).length>0&&t(e.getRecords({}))})),0===Object.keys(e.na28).length&&e.loadFile(S,(function(n){U.parse(n.trimEnd(),{delimiter:"\t",header:!0}).data.forEach((function(t){return e.na28[t.Abbr]=t.Text})),e.morphs.length>0&&Object.keys(e.esv).length>0&&Object.keys(e.na28).length>0&&t(e.getRecords({}))}))}},{key:"loadFile",value:function(e,t){if(null!=localStorage.getItem(e))t(localStorage.getItem(e));else{var n=new XMLHttpRequest;n.addEventListener("load",(function(i){localStorage.setItem(e,n.responseText),t(n.responseText)})),n.open("GET",e),n.send()}}},{key:"getRecords",value:function(t){return e.morphs.filter((function(e){return Object.keys(t).filter((function(e){return 0!==t[e].length})).every((function(n){return"-"===e[n]||t[n].includes(e[n])}))})).filter((function(e){return"-"!==e.Chapter})).map((function(t){var n,i=t.Reference.split(","),s=i[Math.floor(Math.random()*i.length)];return Object.assign({},t,(n={},Object(l.a)(n,K,s),Object(l.a)(n,"Esv",e.esv[s]),Object(l.a)(n,X,e.na28[s]),n))}))}}]),e}();W.morphs=[],W.esv={},W.na28={};var Y=W,Z=(n(50),n(33)),$=n(1),_=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).state={records:[],display:[],filters:{},fields:[H,q,E,A,G,N,T,B,M,V,I,J],showOffcanvas:!1,limit:10,chapters:""},i.toggleFilter=i.toggleFilter.bind(Object(u.a)(i)),i.updateFields=i.updateFields.bind(Object(u.a)(i)),i.updateRecords=i.updateRecords.bind(Object(u.a)(i)),i.updateChapter=i.updateChapter.bind(Object(u.a)(i)),i.setOffcanvas=i.setOffcanvas.bind(Object(u.a)(i)),i.downloadRecords=i.downloadRecords.bind(Object(u.a)(i)),i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;Y.loadData((function(t){return e.setState({records:t})}))}},{key:"toggleFilter",value:function(e,t){this.setState((function(n,i){var s=n.filters[e]||[],r=s.slice();return s.includes(t)?r.splice(r.indexOf(t),1):r.push(t),{filters:Object.assign({},n.filters,Object(l.a)({},e,r))}}))}},{key:"updateChapter",value:function(e){this.setState({chapters:e.target.value})}},{key:"updateFields",value:function(e){this.setState((function(t,n){var i=(t.fields||[]).slice();return i.includes(e)?i.splice(i.indexOf(e),1):i.push(e),{fields:i}}))}},{key:"updateRecords",value:function(){var e=this.state.filters,t=[];this.state.chapters.replaceAll("ch","").split(",").forEach((function(e){if(e.includes("-"))for(var n=e.split("-"),i=parseInt(n[0]);i<parseInt(n[1])+1;i++)t.push(i.toString());else t.push(e)})),e.Chapter=t;var n=Y.getRecords(this.state.filters),i=Math.floor(Math.random()*n.length-this.state.limit);this.setState({records:n,display:n.slice(i,i+this.state.limit)})}},{key:"downloadRecords",value:function(){var e=this,t=n.fields.filter((function(t){return e.state.fields.includes(t)})).join("\t")+"\n"+this.state.records.map((function(t){return n.fields.filter((function(t){return e.state.fields.includes(t)})).map((function(e){return t[e]})).join("\t")})).join("\n"),i=new Blob([t],{type:"text/plain;charset=utf-8"});Object(Z.saveAs)(i,"hello.txt")}},{key:"setOffcanvas",value:function(e){this.setState({showOffcanvas:e})}},{key:"render",value:function(){var e=this;return Object($.jsxs)("div",{className:"App",children:[Object($.jsx)("header",{className:"App-header",children:Object($.jsx)("p",{children:'"SM Baugh A Greek Primer"'})}),Object($.jsxs)(g.a,{children:[Object($.jsxs)(f.a,{variant:"success",style:{textAlign:"left"},children:[Object($.jsx)("h5",{children:"(1) I want to study..."}),Object($.jsxs)(m.a,{size:"sm",children:[Object($.jsx)(x.a.Control,{"aria-label":"chapter restrictions (e.g. 2 or 2,3 or 2-4)","aria-describedby":"basic-addon1",placeholder:"e.g. 'ch2,3,4' or '2-10'. Leave blank for any chapter.",onChange:this.updateChapter}),Object($.jsxs)(w.a,{type:"checkbox",size:"sm",children:[Object($.jsx)(C.a,{variant:"outline-secondary",value:"nouns",id:"nouns-filter",onClick:function(t){return e.toggleFilter(I,z,t)},children:"nouns"}),Object($.jsx)(C.a,{variant:"outline-secondary",value:"verbs",id:"verbs-filter",onClick:function(t){return e.toggleFilter(I,P,t)},children:"verbs"}),Object($.jsx)(C.a,{variant:"outline-secondary",value:"adjectives",id:"adjectives-filter",onClick:function(t){return e.toggleFilter(I,L,t)},children:"adjectives"}),Object($.jsx)(C.a,{variant:"outline-secondary",value:"prepositions",id:"prepositions-filter",onClick:function(t){return e.toggleFilter(I,"preposition",t)},children:"preps"}),Object($.jsx)(C.a,{variant:"outline-secondary",value:"pronouns",id:"pronouns-filter",onClick:function(t){return e.toggleFilter(I,D,t)},children:"pronouns"})]})]})]}),Object($.jsxs)(f.a,{variant:"danger",style:{textAlign:"left"},children:[Object($.jsx)("h5",{children:"(2) ...with filters..."}),Object($.jsx)(v.a,{style:{justifyContent:"space-between"},children:Object.keys(Q).filter((function(e){return e!==I})).map((function(t){return Object($.jsx)(w.a,{id:t,type:"checkbox",size:"sm",children:Q[t].map((function(n){return Object($.jsx)(C.a,{id:n,value:n,variant:"outline-success",onClick:function(i){return e.toggleFilter(t,n,i)},children:n},n)}))},t)}))})]}),Object($.jsxs)(f.a,{variant:"dark",style:{textAlign:"left"},children:[Object($.jsx)("h5",{children:"(3) ...adjust final fields..."}),Object($.jsx)(y.a,{children:Object($.jsx)(p.a,{defaultValue:this.state.fields,size:"sm",children:n.fields.map((function(t){return Object($.jsx)(b.a,{id:t,value:t,active:e.state.fields.includes(t),variant:"outline-secondary",onClick:function(n){return e.updateFields(t,n)},children:t},t)}))})})]}),Object($.jsxs)(f.a,{variant:"info",style:{textAlign:"left"},children:[Object($.jsxs)(y.a,{children:[Object($.jsx)(O.a,{children:Object($.jsx)("h5",{children:"(4) ...preview!"})}),Object($.jsx)(O.a,{style:{textAlign:"right"},children:Object($.jsx)(b.a,{onClick:this.updateRecords,variant:"primary",children:"Refresh!"})})]}),Object($.jsx)(y.a,{children:Object($.jsxs)(k.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object($.jsx)("thead",{children:Object($.jsx)("tr",{children:n.fields.filter((function(t){return e.state.fields.includes(t)})).map((function(e){return Object($.jsx)("th",{style:{whiteSpace:"nowrap"},children:e},e)}))})}),Object($.jsx)("tbody",{children:this.state.display.map((function(t){return Object($.jsx)("tr",{children:n.fields.filter((function(t){return e.state.fields.includes(t)})).map((function(e){return Object($.jsx)("td",{style:{whiteSpace:"nowrap"},children:t[e]},e)}))},"tr-"+t.Result+t.Reference)}))})]})})]}),Object($.jsxs)(f.a,{variant:"secondary",style:{textAlign:"left"},children:[Object($.jsx)("h5",{children:"(5) ...download!"}),Object($.jsx)(y.a,{children:Object($.jsx)(O.a,{children:Object($.jsxs)(b.a,{onClick:this.downloadRecords,children:["Download Set (",this.state.records.length," rows)"]})})})]})]})]})}}]),n}(r.a.Component);_.fields=[H,q,E,A,G,N,T,B,M,V,I,J,"Adverb/particle Type",K,"Esv",X];var ee=_,te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),s(e),r(e),a(e)}))};c.a.render(Object($.jsx)(r.a.StrictMode,{children:Object($.jsx)(ee,{})}),document.getElementById("root")),te()}},[[55,1,2]]]);
//# sourceMappingURL=main.f4bd06d7.chunk.js.map